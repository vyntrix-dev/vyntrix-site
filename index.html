<!DOCTYPE html>
<html lang="en">
<head>
  <!-- 1) Meta + perf hints -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vyntrix ‚Äî Tools, Games & Systems</title>
  <meta name="description" content="Vyntrix ‚Äî coder, game maker and tinkerer. Tools, prototypes and bots. Built with care and a little cat GIF.">
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ccircle cx='12' cy='12' r='10' fill='%23202a37'/%3E%3Ctext x='12' y='16' font-size='10' text-anchor='middle' fill='%23e8ffff' font-family='Poppins,Arial'%3EV%3C/text%3E%3C/svg%3E">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <meta name="theme-color" content="#000000">

  <style>
    /* ========== Root variables & base improvements (1) ========== */
    :root{
      --bg:#050507;
      --neon:#e8ffff;
      --muted:#9aa3b2;
      --accent:#8bd3ff;
      --card: rgba(255,255,255,0.03);
      --glass: rgba(255,255,255,0.02);
      --grid-size: 110px;
      --radius: 12px;
      --gap: 16px;
      --max-w: 1200px;
      --focus: 3px solid rgba(232,255,255,0.12);
      --reduced-motion: no-preference;
    }

    /* Respect prefers-reduced-motion from the start (2) */
    @media (prefers-reduced-motion: reduce) {
      :root { --reduced-motion: reduce; }
    }

    /* Base reset */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;font-family:"Poppins",system-ui,Segoe UI,Roboto,Helvetica,Arial;background:var(--bg);color:#fff;scroll-behavior:smooth}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}

    /* Skip link for keyboard users (3) */
    .skip-link{
      position:fixed;left:12px;top:12px;z-index:2000;padding:8px 12px;border-radius:8px;background:#fff;color:#000;font-weight:700;transform:translateY(-120%);transition:transform .18s ease;
    }
    .skip-link:focus{transform:none;outline:none;box-shadow:0 6px 30px rgba(0,0,0,0.6)}

    /* ========== Animated gradient background (4) ========== */
    #bgGradient{
      position:fixed;inset:0;z-index:-10;background:linear-gradient(-45deg,#0a0a14,#1b2030,#121621,#0b0e14);
      background-size:400% 400%;animation:gradientMove 20s ease infinite;filter:brightness(0.62);transition:transform .35s cubic-bezier(.2,.9,.2,1);
      will-change:transform;
    }
    @keyframes gradientMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

    /* ========== Layers ========== */
    #bgImage{position:fixed;inset:0;z-index:-9;background-image:url("https://images.unsplash.com/photo-1519681393784-d120267933ba?auto=format&fit=crop&w=1920&q=80");background-size:cover;background-position:center;transform:scale(1.06);filter:brightness(.25) saturate(.8) blur(2px);transition:transform .12s linear;will-change:transform;}
    #gridLayer{position:fixed;inset:0;z-index:-8;pointer-events:none;background-image:linear-gradient(transparent 90%, rgba(255,255,255,0.03) 91%),linear-gradient(90deg, transparent 90%, rgba(255,255,255,0.03) 91%);background-size: var(--grid-size) var(--grid-size), var(--grid-size) var(--grid-size);opacity:.9;filter:blur(.6px);mix-blend-mode:overlay;transition:transform .12s linear}
    #gridOverlay{position:fixed;inset:0;z-index:-7;pointer-events:none;background:linear-gradient(180deg, rgba(0,0,0,0.22), rgba(0,0,0,0));mix-blend-mode:overlay}
    #glowLayer{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);width:1000px;height:1000px;border-radius:50%;z-index:-6;background:radial-gradient(circle, rgba(255,255,255,0.12), rgba(255,255,255,0.01));filter:blur(140px);mix-blend-mode:screen;opacity:.9}
    canvas#particleCanvas{position:fixed;inset:0;z-index:-5;pointer-events:none;display:block}

/* ========== Top controls & nav (5) ========== */
    .top-left{
      position:fixed;left:18px;top:18px;z-index:999;display:flex;gap:10px;align-items:center;
    }
    .btn{
      padding:10px 14px;border-radius:10px;border:1.5px solid rgba(255,255,255,0.06);background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));color:var(--neon);font-weight:700;cursor:pointer;display:inline-flex;align-items:center;gap:8px;transition:transform .18s,box-shadow .18s,background .18s;
    }
    .btn:active{transform:translateY(1px) scale(.998)}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04)}

    nav{position:fixed;right:20px;top:20px;z-index:999;display:flex;flex-direction:column;gap:10px;backdrop-filter:blur(6px)}
    .nav-btn{background:var(--glass);border:1px solid rgba(255,255,255,0.04);color:var(--neon);padding:8px 12px;border-radius:10px;font-weight:600;cursor:pointer;box-shadow:0 8px 30px rgba(0,0,0,0.6);transition:all .2s ease;}
    .nav-btn:hover{transform:translateY(-4px);background:rgba(255,255,255,0.04);}

/* ========== Layout & cards (6) ========== */
    .wrap{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:36px;gap:var(--gap)}
    .hero{width:100%;max-width:var(--max-w);display:flex;gap:40px;align-items:center;justify-content:space-between}
    .card{flex:1;padding:28px;border-radius:var(--radius);background:linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.008));backdrop-filter:blur(8px);box-shadow:0 18px 70px rgba(0,0,0,0.65);transition:transform .18s,box-shadow .18s}
    .card:focus-within{box-shadow:0 30px 120px rgba(0,0,0,0.7);transform:translateY(-6px)}

/* ========== Left column improvements (7) ========== */
    .greeting{font-size:1.02rem;color:var(--muted);font-weight:600}
    .name{font-size:3.6rem;font-weight:800;color:var(--neon);line-height:0.92;letter-spacing:0.6px;text-shadow:0 6px 30px rgba(232,255,255,0.04)}
    .tag{color:#e6eef9;font-size:1.02rem;margin-top:6px}
    .typewriter{margin-top:12px;color:#f3feff;font-weight:700;height:32px;white-space:nowrap;overflow:hidden;border-right:2px solid rgba(232,255,255,0.08);font-size:1.05rem;display:flex;align-items:center;gap:8px}
    /* smoother caret & accessibility label (8) */
    .typewriter .caret{opacity:0.9;margin-left:6px;animation:blink 1.1s steps(2) infinite}
    @keyframes blink{0%,50%{opacity:1}51%,100%{opacity:0}}
    /* small subtitle for keyboard users (9) */
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* ========== Avatar column: float, glow, tilt (10) ========== */
    .avatar-col{width:360px;display:flex;flex-direction:column;align-items:center;gap:12px;position:relative}
    .avatar-frame{
      width:300px;height:300px;border-radius:50%;overflow:hidden;border:10px solid rgba(255,255,255,0.04);box-shadow:0 40px 120px rgba(232,255,255,0.06), inset 0 1px 0 rgba(255,255,255,0.02);display:flex;align-items:center;justify-content:center;background:var(--card);animation:float 6s ease-in-out infinite;transition:transform .28s cubic-bezier(.2,.9,.2,1);
      will-change:transform;
    }
    .avatar-frame img{width:100%;height:100%;object-fit:cover;display:block;animation:glowPulse 4s ease-in-out infinite;filter:drop-shadow(0 12px 28px rgba(0,0,0,0.35));image-rendering:auto}
    .avatar-frame:hover{transform:translateY(-8px) scale(1.02)}
    .avatar-glow-ring{position:absolute;left:50%;transform:translateX(-50%);bottom:-26px;width:480px;height:120px;border-radius:999px;background:linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.12));filter:blur(48px);mix-blend-mode:screen;animation:glowPulse 4s ease-in-out infinite alternate}
    @keyframes glowPulse{0%,100%{filter:brightness(1) drop-shadow(0 0 12px rgba(232,255,255,0.18))}50%{filter:brightness(1.08) drop-shadow(0 0 22px rgba(232,255,255,0.4))}}
    @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}

/* ========== Showcase grid & hover polish (11) ========== */
    .showcase-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
    .showcase-card{padding:16px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.006));border:1px solid rgba(255,255,255,0.03);transition:transform .18s,box-shadow .18s}
    .showcase-card:hover{transform:translateY(-8px) rotateZ(-0.5deg);box-shadow:0 28px 80px rgba(0,0,0,0.5)}
    .tag-badge{font-size:.78rem;padding:6px 8px;border-radius:999px;background:rgba(232,255,255,0.03);border:1px solid rgba(232,255,255,0.02);color:var(--neon);font-weight:700}

/* ========== Contact improvements (12) ========== */
    .contact-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .contact-card{padding:14px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.006));border:1px solid rgba(255,255,255,0.03);display:flex;flex-direction:column;gap:8px}
    .copy-btn{padding:6px 8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--neon);cursor:pointer;font-weight:700}

/* ========== Footer & tiny extras (13) ========== */
    footer{margin-top:22px;color:var(--muted);font-size:0.92rem;text-align:center}
    #backTop{position:fixed;right:18px;bottom:18px;z-index:999;background:var(--glass);border:1px solid rgba(255,255,255,0.04);padding:10px;border-radius:12px;display:none;cursor:pointer}

/* ========== Focus-visible (keyboard) (14) ========== */
    :focus{outline-offset:3px}
    :focus-visible{outline:var(--focus);border-radius:8px}

/* ========== Reduced motion: remove or simplify animations (15) ========== */
    @media (prefers-reduced-motion: reduce){
      *{animation-duration:0.001ms!important;animation-iteration-count:1!important;transition:none!important}
      .avatar-frame, #bgGradient{transition:none}
    }

/* ========== Responsive tweaks (16) ========== */
    @media (max-width:980px){
      .hero{flex-direction:column-reverse;align-items:center;gap:28px;padding-bottom:10px}
      .avatar-col{width:220px}
      .avatar-frame{width:170px;height:170px}
      .name{font-size:2.6rem}
      .wrap{padding:18px}
      #backTop{right:12px;bottom:12px}
    }

    /* Print-friendly (17) */
    @media print{
      body{background:#fff;color:#000}
      #bgGradient,#bgImage,#gridLayer,#glowLayer,canvas,nav,.top-left{display:none}
    }

    /* micro-typography improvements (18) */
    h3{font-size:1.05rem;color:var(--neon);margin-bottom:6px}
    p{color:var(--muted);line-height:1.45}

/* small util */
    .row{display:flex;gap:12px;align-items:center}
  </style>
</head>
<body>
  <!-- Skip link -->
  <a class="skip-link" href="#main">Skip to content</a>

  <!-- Top-left controls: theme toggle + resume (19) -->
  <div class="top-left" aria-hidden="false">
    <button id="themeToggle" class="btn ghost" aria-pressed="false" title="Toggle theme">üåó Theme</button>
    <button id="downloadResume" class="btn" title="Download resume (example)">üìÑ Resume</button>
  </div>

  <!-- Gradient + visual layers -->
  <div id="bgGradient" aria-hidden="true"></div>
  <div id="bgImage" aria-hidden="true"></div>
  <div id="gridLayer" aria-hidden="true"></div>
  <div id="gridOverlay" aria-hidden="true"></div>
  <div id="glowLayer" aria-hidden="true"></div>
  <canvas id="particleCanvas" aria-hidden="true"></canvas>

  <!-- Top-right nav -->
  <nav aria-label="Page navigation">
    <button class="nav-btn" onclick="document.getElementById('skillsSection').scrollIntoView({behavior:'smooth'})">Skills</button>
    <button class="nav-btn" onclick="document.getElementById('projectsSection').scrollIntoView({behavior:'smooth'})">Showcase</button>
    <button class="nav-btn" onclick="document.getElementById('contactSection').scrollIntoView({behavior:'smooth'})">Contact</button>
  </nav>

  <main id="main" class="wrap" role="main" aria-labelledby="introTitle">
    <section class="hero" aria-label="Intro">
      <div class="card left fade" style="min-width:320px">
        <div class="greeting">Hey there</div>
        <h1 id="introTitle" class="name">I'm Vyntrix</h1>
        <div class="tag">I'm an 18-year-old coder from Sweden, currently in college.</div>

        <!-- Enhanced typewriter (20) -->
        <div class="typewriter" id="typewriter" aria-live="polite" aria-atomic="true">
          <span id="twText" aria-hidden="false"></span><span class="caret" aria-hidden="true"></span>
        </div>
        <div class="links" style="margin-top:18px">
          <a class="btn" href="https://github.com/vyntrix-dev" target="_blank" rel="noopener noreferrer">üêô GitHub</a>
          <a class="btn" href="https://discord.gg/eT3xGSUJ" target="_blank" rel="noopener noreferrer">üí¨ Discord</a>
          <button class="btn" id="copyEmailBtn" title="Copy email to clipboard">‚úâÔ∏è Email</button>
        </div>

        <div style="color:var(--muted);margin-top:16px;max-width:760px">I build tools, explore system-level code, and make lightweight games and bots. Scroll to see core skills, showcase and contact info.</div>
      </div>

      <aside class="avatar-col fade" aria-label="Avatar">
        <div class="avatar-frame" role="img" aria-label="Vyntrix avatar">
          <!-- Lazy load + decoding for faster paint (21) -->
          <img id="avatarImg" src="https://media.tenor.com/MRboc8Cj1w8AAAAi/cat-meme-hehehe-mwehehe.gif" alt="Cat GIF avatar" loading="lazy" decoding="async">
        </div>
        <div class="avatar-glow-ring" aria-hidden="true"></div>
        <div class="follow" style="color:var(--muted)">Follow my work ‚Äî reach out anytime</div>
      </aside>
    </section>

    <!-- SKILLS -->
    <section id="skillsSection" class="content" aria-labelledby="skillsTitle">
      <h2 id="skillsTitle" class="section-title">Core Skills</h2>
      <div class="divider" style="width:100%"></div>
      <div class="skills-grid" role="list" aria-label="Skills list">
        <div class="skill" role="listitem"><div class="skill-ico">üêç</div><div class="skill-name">Python</div></div>
        <div class="skill" role="listitem"><div class="skill-ico">üí†</div><div class="skill-name">C++</div></div>
        <div class="skill" role="listitem"><div class="skill-ico">üü®</div><div class="skill-name">JavaScript</div></div>
        <div class="skill" role="listitem"><div class="skill-ico">üìê</div><div class="skill-name">HTML &amp; CSS</div></div>
        <div class="skill" role="listitem"><div class="skill-ico">‚öõÔ∏è</div><div class="skill-name">React</div></div>
        <div class="skill" role="listitem"><div class="skill-ico">üóÑÔ∏è</div><div class="skill-name">SQL</div></div>
        <div class="skill" role="listitem"><div class="skill-ico">üîß</div><div class="skill-name">Git</div></div>
        <div class="skill" role="listitem"><div class="skill-ico">üîí</div><div class="skill-name">Security Basics</div></div>
      </div>
    </section>

    <!-- SHOWCASE -->
    <section id="projectsSection" class="content" aria-labelledby="projectsTitle">
      <h2 id="projectsTitle" class="section-title">Showcase</h2>
      <div class="divider" style="width:100%"></div>
      <div class="showcase-grid" role="list">
        <article class="showcase-card" role="listitem" aria-labelledby="card1">
          <div class="row" style="justify-content:space-between;align-items:flex-start">
            <h3 id="card1">Tooling ‚Äî Local Dev Utilities</h3>
            <span class="tag-badge">CLI</span>
          </div>
          <p>Small CLI utilities and scripts I use for fast debugging and prototyping ‚Äî documented and easily reusable.</p>
          <div class="row" style="margin-top:8px">
            <a class="btn" href="#" target="_blank" rel="noopener">Read</a>
            <a class="btn" href="https://github.com/vyntrix-dev" target="_blank" rel="noopener">Code</a>
          </div>
        </article>

        <article class="showcase-card" role="listitem" aria-labelledby="card2">
          <div class="row" style="justify-content:space-between;">
            <h3 id="card2">Mini Games ‚Äî Prototypes</h3><span class="tag-badge">Game</span>
          </div>
          <p>Small game prototypes exploring mechanics and performance ‚Äî quick demos to test ideas.</p>
          <div class="row" style="margin-top:8px"><a class="btn" href="#" target="_blank">Play</a><a class="btn" href="#" target="_blank">Repo</a></div>
        </article>

        <article class="showcase-card" role="listitem" aria-labelledby="card3">
          <div class="row" style="justify-content:space-between;">
            <h3 id="card3">Bots & Integrations</h3><span class="tag-badge">Automation</span>
          </div>
          <p>Discord and service integrations that make community tooling friendlier and automated.</p>
          <div class="row" style="margin-top:8px"><a class="btn" href="#" target="_blank">Demo</a><a class="btn" href="#" target="_blank">Repo</a></div>
        </article>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="aboutSection" class="content" aria-labelledby="aboutTitle">
      <h2 id="aboutTitle" class="section-title">About Me</h2>
      <div class="divider" style="width:100%"></div>
      <p>I like building tools, exploring system-level code, and making lightweight games and bots. Currently studying in college ‚Äî focusing on low-level programming, C++ and Python, and expanding into web development and modern tooling.</p>
    </section>

    <!-- CONTACT -->
    <section id="contactSection" class="content" aria-labelledby="contactTitle">
      <h2 id="contactTitle" class="section-title">Contact</h2>
      <div class="divider" style="width:100%"></div>
      <div class="contact-grid">
        <div class="contact-card">
          <strong style="color:var(--neon)">Discord</strong>
          <div style="color:var(--muted);margin-top:6px">Join: <a href="https://discord.gg/eT3xGSUJ" target="_blank" rel="noopener">discord.gg/eT3xGSUJ</a></div>
        </div>
        <div class="contact-card">
          <strong style="color:var(--neon)">Email</strong>
          <div style="color:var(--muted);margin-top:6px">vyntrix@outlook.com</div>
          <div style="margin-top:8px">
            <button class="copy-btn" id="copyEmail">Copy email</button>
            <button class="btn" id="openMail" onclick="location.href='mailto:vyntrix@outlook.com'">Open mail</button>
          </div>
        </div>
      </div>
    </section>

    <footer>¬© 2025 Vyntrix. All rights reserved.</footer>
  </main>

  <!-- Back to top (20) -->
  <button id="backTop" aria-label="Back to top">‚¨ÜÔ∏è</button>

  <!-- ========== Scripts: typewriter, interactions, particles, perf ========== -->
  <script>
    /* ----------------------
       Improvements summary (explicit)
       1) root variables & spacing
       2) respects prefers-reduced-motion
       3) skip link for keyboard users
       4) animated gradient background
       5) top-left theme + resume controls
       6) improved cards with focus states
       7) readable, accessible left column
       8) smoother caret animation accessible
       9) sr-only helpers
       10) avatar float + tilt on pointermove
       11) showcase hover polish
       12) contact copy/email buttons
       13) back-to-top button
       14) focus-visible outlines
       15) reduced-motion overrides
       16) responsive tweaks
       17) print-friendly styles
       18) micro-typography
       19) theme toggle + resume download
       20) back-to-top show/hide behavior
       Plus: lazy-loading GIF, particle perf throttling, visibility handling
    ---------------------- */

    // Utilities
    const $ = s => document.querySelector(s);
    const $$ = s => Array.from(document.querySelectorAll(s));

    // Typewriter (better) -----------------------------------------------------
    (function typewriter(){
      const el = $('#twText');
      const phrases = ["C++ Developer","Python Developer","JavaScript Developer","College Student"];
      let pi=0, ci=0, deleting=false, paused=false;
      function step(){
        const cur = phrases[pi];
        if (!deleting) {
          ci++;
          el.textContent = cur.slice(0,ci);
          if (ci >= cur.length) { deleting = true; setTimeout(step, 900); return; }
        } else {
          ci--;
          el.textContent = cur.slice(0,ci);
          if (ci === 0) { deleting = false; pi = (pi+1) % phrases.length; }
        }
        setTimeout(step, deleting?40:80);
      }
      setTimeout(step, 600);
    })();

    // Copy email button ------------------------------------------------------
    (function copyEmail(){
      const copy = $('#copyEmail') || $('#copyEmailBtn');
      if(!copy) return;
      copy.addEventListener('click', async ()=>{
        try {
          await navigator.clipboard.writeText('vyntrix@outlook.com');
          copy.textContent = 'Copied!';
          setTimeout(()=>{ copy.textContent = 'Copy email' }, 1500);
        } catch (e) {
          // fallback: select text
          alert('Copy this email: vyntrix@outlook.com');
        }
      });
    })();

    // Download resume (placeholder data uri) ---------------------------------
    (function resumeDownload(){
      const btn = $('#downloadResume');
      if(!btn) return;
      // small example PDF placeholder (data URI text file renamed)
      const blob = new Blob([`Vyntrix ‚Äî Resume\n\nThis is a placeholder resume. Replace with your real resume file.`], {type:'text/plain'});
      const url = URL.createObjectURL(blob);
      btn.addEventListener('click', ()=> {
        const a = document.createElement('a');
        a.href = url;
        a.download = 'Vyntrix-Resume.txt';
        a.click();
      });
    })();

    // Theme toggle: dark/light (simple) -------------------------------------
    (function themeToggle(){
      const btn = $('#themeToggle');
      const root = document.documentElement;
      const key = 'vyntrix_theme';
      function apply(theme){
        if(theme === 'light'){
          root.style.setProperty('--bg','#f8fafc');
          root.style.setProperty('--neon','#0b1b24');
          root.style.setProperty('--muted','#394857');
          btn.setAttribute('aria-pressed','true');
        } else {
          root.style.removeProperty('--bg');
          root.style.removeProperty('--neon');
          root.style.removeProperty('--muted');
          btn.setAttribute('aria-pressed','false');
        }
      }
      const saved = localStorage.getItem(key) || 'dark';
      if(saved === 'light') apply('light');
      btn.addEventListener('click', ()=>{
        const current = localStorage.getItem(key) || 'dark';
        const next = current === 'dark' ? 'light' : 'dark';
        localStorage.setItem(key, next);
        apply(next);
      });
    })();

    // Back to top behavior ---------------------------------------------------
    (function backToTop(){
      const btn = $('#backTop');
      if(!btn) return;
      btn.addEventListener('click', ()=> window.scrollTo({top:0,behavior:'smooth'}));
      window.addEventListener('scroll', ()=>{
        if(window.scrollY > 420) btn.style.display = 'block'; else btn.style.display = 'none';
      }, {passive:true});
    })();

    // Avatar tilt on pointermove (subtle) -----------------------------------
    (function avatarTilt(){
      const frame = document.querySelector('.avatar-frame');
      const img = document.querySelector('#avatarImg');
      if(!frame) return;
      function onMove(e){
        const rect = frame.getBoundingClientRect();
        const cx = rect.left + rect.width/2;
        const cy = rect.top + rect.height/2;
        const dx = (e.clientX - cx) / rect.width;
        const dy = (e.clientY - cy) / rect.height;
        // limit tilt
        const rx = clamp(dy * -6, -8, 8);
        const ry = clamp(dx * 8, -12, 12);
        frame.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg) translateZ(6px)`;
      }
      function onLeave(){ frame.style.transform = ''; }
      function clamp(v,min,max){ return Math.min(max,Math.max(min,v)); }
      frame.addEventListener('pointermove', onMove);
      frame.addEventListener('pointerleave', onLeave);
    })();

    // Particles with perf considerations & visibility handling ---------------
    (function particles(){
      const canvas = document.getElementById('particleCanvas');
      if(!canvas) return;
      const ctx = canvas.getContext('2d');
      let w = innerWidth, h = innerHeight;
      canvas.width = w; canvas.height = h;
      let raf = null;
      // adapt count by size/device (perf)
      const baseCount = Math.max(48, Math.floor((w*h)/110000));
      let particles = new Array(baseCount).fill(0).map(()=>({
        x: Math.random()*w, y: Math.random()*h,
        vx: (Math.random()-0.5)*0.25, vy: (Math.random()-0.5)*0.25,
        size: 0.8 + Math.random()*2.6, a: 0.04 + Math.random()*0.12
      }));
      let mouseX = w/2, mouseY = h/2;
      addEventListener('mousemove', e => { mouseX = e.clientX; mouseY = e.clientY; });
      // pause when tab not visible
      let active = true;
      document.addEventListener('visibilitychange', ()=> {
        active = document.visibilityState === 'visible';
        if(active) loop(); else if(raf) cancelAnimationFrame(raf);
      });
      // resize
      addEventListener('resize', ()=> {
        w = innerWidth; h = innerHeight; canvas.width = w; canvas.height = h;
      });
      function step(){
        if(!active) return;
        ctx.clearRect(0,0,w,h);
        for(const p of particles){
          const dx = (mouseX - p.x), dy = (mouseY - p.y);
          p.vx += dx * 0.00002; p.vy += dy * 0.00002;
          p.vx *= 0.995; p.vy *= 0.995;
          p.x += p.vx; p.y += p.vy;
          if(p.x < -10) p.x = w + 10;
          if(p.x > w + 10) p.x = -10;
          if(p.y < -10) p.y = h + 10;
          if(p.y > h + 10) p.y = -10;
          ctx.beginPath();
          ctx.fillStyle = `rgba(255,255,255,${p.a})`;
          ctx.arc(p.x,p.y,p.size,0,Math.PI*2); ctx.fill();
        }
        raf = requestAnimationFrame(step);
      }
      function loop(){ if(raf) cancelAnimationFrame(raf); raf = requestAnimationFrame(step); }
      loop();
    })();

    // Gradient parallax follow cursor (already done visually): subtle movement
    (function gradientFollow(){
      const bg = document.getElementById('bgGradient');
      const bgImage = document.getElementById('bgImage');
      const gridLayer = document.getElementById('gridLayer');
      const glowLayer = document.getElementById('glowLayer');
      addEventListener('mousemove', e => {
        const x = (e.clientX / innerWidth - 0.5) * 24;
        const y = (e.clientY / innerHeight - 0.5) * 24;
        bg.style.transform = `translate(${x/6}px, ${y/6}px)`;
        bgImage.style.transform = `translate3d(${x}px, ${y}px, 0) scale(1.06)`;
        gridLayer.style.transform = `translate3d(${x/3}px, ${y/3}px, 0)`;
        glowLayer.style.transform = `translate3d(${x/6}px, ${y/6}px, 0)`;
      }, {passive:true});
    })();

    // Accessibility: keyboard focus helpers & show outline when Tab used -----
    (function focusOutline(){
      function handleFirstTab(e){
        if(e.key === 'Tab') document.documentElement.classList.add('show-focus');
      }
      window.addEventListener('keydown', handleFirstTab, {once:true});
    })();

    // Small QoL: reveal sections on intersection
    (function revealOnView(){
      const io = new IntersectionObserver(entries => {
        entries.forEach(en => { if(en.isIntersecting) en.target.classList.add('revealed'); });
      }, {threshold: 0.18});
      document.querySelectorAll('section.content, .card, .avatar-col').forEach(el => io.observe(el));
    })();

    // Tiny helpful polyfills / defensive listeners
    window.addEventListener('error', (e)=>{ /* don't break UI for 3rd-party errors */ });

    // Keep performance friendly: if reduced motion requested, stop fancy effects
    (function respectReducedMotion(){
      const rm = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if(rm){
        document.querySelectorAll('*').forEach(node => node.style.transitionDuration = '0ms');
      }
    })();

    // Final small polish: make all external links open safely
    (function safeExternal(){
      document.querySelectorAll('a[target="_blank"]').forEach(a=>{
        a.setAttribute('rel','noopener noreferrer');
      });
    })();
  </script>
</body>
</html>
